<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>4. 이벤트 핸들러 추가</title>
    <style></style>
  </head>
  <body>
    <script>
      const getList = (todos) => {
        const $ul = $("#todos");

        todos.forEach((list, index) => {
          const $li = $("<li>")
            .attr("class", list)
            .attr("data-index", index)
            .appendTo($ul);

          if (list.done === true) {
            $("<span class='title'>")
              .text(list.title)
              .css("text-decoration", "line-through")
              .addClass("done")
              .appendTo($li);
          } else {
            $("<span class='title'>").text(list.title).appendTo($li);
          }
          $("<span>").attr("class", "close").text("X").appendTo($li);
        });
      };

      $(document).ready(() => {
        const todos = [
          { title: "영화보기", done: false },
          { title: "주말 산책", done: true },
          { title: "ES6 학습", done: false },
          { title: "잠실 야구장", done: false },
        ];
        getList(todos);

        $("#add").on("click", function () {
          // alert("추가 완료");
          $('#input').val(''); // 버튼 click시 input text 초기화
        });

        $('.close').on('click', function(){
            alert('삭제 완료');
        })

        $('.title').on('click', function(){
            alert('할일 목록');
        })

      });
    </script>
    <div id="app">
      <input type="text" id="input" placeholder="입력 후 엔터!" />
      <button id="add">추가</button>
      <ul id="todos"></ul>
    </div>
  </body>
</html>
